REPLACE INTO `hopsworks`.`variables` VALUES ("kerberos_auth", "<%= node['kerberos']['enabled'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("ldap_krb_search_filter", "<%= node['ldap']['krb_search_filter'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("ldap_krb_dyn_grp_search_filter", "<%= node['ldap']['krb_dyn_grp_search_filter'] %>");
DELETE FROM `hopsworks`.`variables` WHERE `id`='tf_spark_connector_version';

DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_dir';
DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_projects_dir';
DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_sync_interval';
DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_user';
DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_version';
DELETE FROM `hopsworks`.`variables` WHERE `id`='zeppelin_interpreters';
DELETE FROM `hopsworks`.`variables` WHERE `id`='livy_zeppelin_session_timeout';

REPLACE INTO `hopsworks`.`variables` VALUES ("service_jwt_lifetime_ms", "<%= node['hopsworks']['jwt']['service_lifetime_ms'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("service_jwt_exp_leeway_sec", "<%= node['hopsworks']['jwt']['service_exp_leeway_sec'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("keepalive_timeout", "<%= node['glassfish']['http']['keep_alive_timeout']  %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("rstudio_user", "<%= node['rstudio']['user'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("rstudio_dir", "<%= node['rstudio']['base_dir'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("rstudio_cran_repo_url", "<%= node['rstudio']['cran_repo_url'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("jupyter_ws_ping_interval", "<%= node['jupyter']['ws_ping_interval'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("oauth_enabled", "<%= node['oauth']['enabled'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("oauth_account_status", "<%= node['oauth']['account_status'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("oauth_redirect_uri", "<%= node['oauth']['redirect_uri'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("oauth_group_mapping", "<%= node['oauth']['group_mapping'] %>");

DELETE FROM `hopsworks`.`variables` WHERE `id`='anaconda_env';
REPLACE INTO `hopsworks`.`variables` VALUES ("kagent_user", "<%= node['kagent']['user'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("kagent_liveness_monitor_enabled", "<%= node['hopsworks']['kagent_liveness']['enabled'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("kagent_liveness_threshold", "<%= node['hopsworks']['kagent_liveness']['threshold'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("service_restart_script", "<%= node['hopsworks']['kagent_liveness']['restart_script'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("service_start_script", "<%= node['hopsworks']['kagent_liveness']['start_script'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("service_stop_script", "<%= node['hopsworks']['kagent_liveness']['stop_script'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("jupyter_user", "<%= node['jupyter']['user'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("jupyter_group", "<%= node['jupyter']['group'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("hive_scratchdir_delay", "<%= node['hopsworks']['hive2']['scratch_dir_delay'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("hive_scratchdir_cleaner_interval", "<%= node['hopsworks']['hive2']['scratch_dir_cleaner_interval'] %>");

REPLACE INTO `hopsworks`.`variables` VALUES ("admin_email", "<%= node['hopsworks']['admin']['email'] %>");

DELETE FROM `hopsworks`.`variables` WHERE `id`='hdfs_ui_ip';
DELETE FROM `hopsworks`.`variables` WHERE `id`='hdfs_ui_port';

REPLACE INTO `hopsworks`.`schema_topics`(`name`, `version`, `contents`) VALUES ('inferenceschema', 2, '{"fields": [{"name": "modelId", "type": "int"}, { "name": "modelName", "type": "string" }, {  "name": "modelVersion",  "type": "int" }, {  "name": "requestTimestamp",  "type": "long" }, {  "name": "responseHttpCode",  "type": "int" }, {  "name": "inferenceRequest",  "type": "string" }, {  "name": "inferenceResponse",  "type": "string" }, { "name": "servingType", "type": "string" } ],  "name": "inferencelog",  "type": "record" }');

DELETE FROM `hopsworks`.`variables` WHERE `id`='tf_serving_connection_pool_size';
DELETE FROM `hopsworks`.`variables` WHERE `id`='tf_serving_max_route_connections';
REPLACE INTO `hopsworks`.`variables` VALUES ("serving_connection_pool_size", "<%= node['serving']['pool_size'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("serving_max_route_connections", "<%= node['serving']['max_route_connections'] %>");

DELETE FROM `hopsworks`.`variables` WHERE `id`='logstash_port_serving';
REPLACE INTO `hopsworks`.`variables` VALUES ("logstash_port_tf_serving", "<%= node['logstash']['beats']['serving_tf_port'] %>");
REPLACE INTO `hopsworks`.`variables` VALUES ("logstash_port_sklearn_serving", "<%= node['logstash']['beats']['serving_sklearn_port'] %>");

DELETE FROM `hopsworks`.`variables` WHERE `id`='recovery_path';

